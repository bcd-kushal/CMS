{% load static %}
<div class="signin">
  <form
    method="post"
    style="width: 100%; height: 100%"
    onsubmit="return formValidate()"
  >
    {% csrf_token %}
    <div class="signin_name">
      <div class="signinName">Buy me a Coffee</div>
      <!-- <div class="loginURL">
        New User?
        <a
          style="margin-left: 4px; text-decoration: underline; cursor: pointer"
          href="../signin/"
          >SignUp</a
        >
      </div> -->
    </div>

    <div class="register_field_row">
      <div class="email_input" style="max-width: 630px; width: 100%">
        <div class="label">Product Name</div>
        <div class="inputfield">
          <!-- <input type="text" name="login_email_mobile" id="" /> -->
          <input type="text" name="item_name" id="item_name" value="" />
        </div>
      </div>

      <div class="mobile_input" style="max-width: 630px; width: 100%">
        <div class="label">Price</div>
        <div class="inputfield">
          <!-- <input type="password" name="login_pass" id="" autocomplete="off" /> -->
          <input type="number" name="item_price" id="item_price" value="" autocomplete="off" />
        </div>
      </div>
    </div>

    <div class="submitrow">
      <div class="terms">
        <input
          type="checkbox"
          name="login_cookie_acceptance"
          id=""
          autocomplete="off"
          checked
        />
        <div>Subscribe for updates</div>
      </div>
      <button type="submit" id="login_button">Process Payment</button>
    </div>
  </form>
  
</div>




<script>
  //   document.getElementById("login_button").addEventListener("click", () => {
  //     window.location.href = "..";
  //   });

  function formValidate() {
    function isNull(str) {
      const x = document.getElementById(str).value;
      if (x == "" || x == undefined) return true;
      return false;
    }

    //LAYER 2: CHECK IF ALL FIELDS ARE INSERTED OR NOT
    if (isNull("{{ pay_form.item_name.id_for_label }}") || isNull("{{ pay_form.price.id_for_label }}")) {
      alert("Fill out all fields");
      return false;
    } else {
      return true;
    }
  }
</script>
